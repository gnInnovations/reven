{% extends "base.html" %}

{% block title %}Purchase Tokens{% endblock %}

{% block content %}
<div class="purchase-container">
    <h2>Purchase Tokens</h2>
    
    <div class="token-packages">
        <div class="package-card" data-package-id="small">
            <h3>Basic Package</h3>
            <div class="token-amount">50 Tokens</div>
            <div class="package-price">₹99</div>
            <ul class="package-features">
                <li>Generate OpenSCAD models</li>
                <li>Basic resolution</li>
                <li>Export to STL format</li>
            </ul>
            <button class="buy-package-btn primary-btn" data-package-id="small">Buy Now</button>
        </div>
        
        <div class="package-card featured" data-package-id="medium">
            <div class="featured-badge">Popular</div>
            <h3>Standard Package</h3>
            <div class="token-amount">200 Tokens</div>
            <div class="package-price">₹299</div>
            <ul class="package-features">
                <li>Generate OpenSCAD models</li>
                <li>Medium resolution</li>
                <li>Export to STL and OBJ formats</li>
                <li>Image to 3D conversion</li>
            </ul>
            <button class="buy-package-btn primary-btn" data-package-id="medium">Buy Now</button>
        </div>
        
        <div class="package-card" data-package-id="large">
            <h3>Premium Package</h3>
            <div class="token-amount">500 Tokens</div>
            <div class="package-price">₹599</div>
            <ul class="package-features">
                <li>Generate OpenSCAD models</li>
                <li>High resolution</li>
                <li>Export to STL, OBJ, and GLB formats</li>
                <li>Image to 3D conversion</li>
                <li>Priority processing</li>
            </ul>
            <button class="buy-package-btn primary-btn" data-package-id="large">Buy Now</button>
        </div>
    </div>
    
    <div class="payment-history">
        <h3>Payment History</h3>
        <div id="history-container">
            <div class="history-loading">Loading payment history...</div>
        </div>
    </div>
</div>

<!-- Payment Modal -->
<div id="payment-modal" class="modal" style="display:none;">
    <div class="modal-content">
        <span class="close-modal">&times;</span>
        <h3>Complete Payment</h3>
        <div class="modal-body">
            <div id="payment-details"></div>
            <div id="razorpay-container"></div>
        </div>
    </div>
</div>
{% endblock %}

{% block scripts %}
<script src="https://checkout.razorpay.com/v1/checkout.js"></script>
<script src="{{ url_for('static', filename='js/payments.js') }}"></script>
{% endblock %}
